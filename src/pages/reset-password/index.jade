extends ../../common/jade/_base

block meta
  +favicon()
  +meta-seo()

//- block libcss

block css
  +element-ui-css()
  link(rel="stylesheet" href="/static/css/reset-password/index.css")

mixin content ()
  - var b = 'block'
  center(class="#{b}")
    el-tabs(v-model="activeTab")
      el-tab-pane(label="By phone", name="phone")
        el-form(ref="phoneForm", :model="user")
          el-form-item(
            prop="phone",
            :rules="rules.phone",
          )
            el-input.phone-input(v-model="user.phone", placeholder="Phone")
        el-button(type="primary", @click="sendCodeByPhone") Send Verification Code
      el-tab-pane(label="By email", name="email")
        el-form(ref="emailForm", :model="user")
          el-form-item(
            prop="email",
            :rules="rules.email",
          )
            el-input.email-input(v-model="user.email", placeholder="Email")
        el-button(type="primary", @click="sendCodeByEmail") Send Verification Code
      <br><br>
      el-form(ref="pswdForm", :model="user")
        el-form-item(
          prop="pswd",
          :rules="rules.pswd",
        )
          password-input(v-model="user.pswd", placeholder="Password")
        el-form-item(
          prop="pswd2",
          :rules="rules.pswd2",
        )
          password-input(v-model="user.pswd2", placeholder="Confirm password")
        el-form-item(
          prop="code",
        )
          el-input(v-model="user.code", placeholder="Verification code")
      el-button(type="primary", @click="resetPassword") Reset Password
block main
  #root
    +content()
block js
    script(src="/static/js/reset-password/index.js")
